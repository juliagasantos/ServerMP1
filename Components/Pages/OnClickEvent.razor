@page "/OnClickEvent"
@using ServerMP1.DTOs
@rendermode InteractiveServer

<h3>OnClickEvent</h3>

@* playgroung *@
<div class="col-12 p-4 bg-light">
    <h3>Products Playground</h3>
    <div class="row">
        <div class="col-6 p-4">
        </div>
        <div class="col-6 p-4">
        </div>
    </div>
</div>

@* summary *@
<div class="col-12 p-4 bg-light">
    <h3>Products Playground</h3>
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>Id</th>
                <th>Name</th>
                <th>Price</th>
                <th>Stock</th>
                <th>Category</th>
                <th>Active</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach(var p in listProductsDTOs)
            {
                <tr>
                    <td>@p.Id</td>
                    <td>@p.Name</td>
                    <td>@p.Price</td>
                    <td>@p.Stock</td>
                    <td>@p.CategoryName</td>
                    <td>@(p.IsActive ? "Yes" : "No")</td>
                    <td></td>
                </tr>
            }
        </tbody>
    </table>
</div>

@code {
    //Lista para alimentar o select
    private List<string> Categories = new()
    {
        "Lanche",
        "Bebida",
        "Sobremesa"
    };

    private List<ProductDTO> listProductsDTOs = new();
    private void ProductList()
    {
        listProductsDTOs = new List<ProductDTO>
        {
            new ProductDTO {Id = 1, Name = "X-bacon", Description = "Hamburguer com tudo o que á de bom", Price = 15.00m, Stock = 10, IsActive = true, UrlImg = "https://vocegastro.com.br/app/uploads/2021/11/x-bacon.jpg" ,CategoryName = "Lanche" },
            new ProductDTO {Id = 1, Name = "Pepsi", Description = "Bebida black geladinha", Price = 8.00m, Stock = 10, IsActive = true, UrlImg = "https://admin.cnnbrasil.com.br/wp-content/uploads/sites/12/2023/03/230327115255-embargoed-01-pepsi-new-logo-2023.webp" ,CategoryName = "Bebida" },
            new ProductDTO {Id = 1, Name = "Bolo de Murango", Description = "Aquele do Pica-Pau", Price = 25.00m, Stock = 10, IsActive = true, UrlImg = "https://i.pinimg.com/736x/77/c1/33/77c13333446751de8bb1d8d352661ee4.jpg" ,CategoryName = "Sobremesa" }
        };
    }

    //inicializar
    protected override void OnInitialized()
    {
        ProductList();
    }
}
